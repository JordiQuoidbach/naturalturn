% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/collapse_wide.R
\name{natural_turn_transcript}
\alias{natural_turn_transcript}
\title{Process Transcript with NaturalTurn Algorithm}
\usage{
natural_turn_transcript(
  transcript_df,
  speaker_id_col = "speaker",
  text_col = "text",
  start_col = "start",
  stop_col = "stop",
  max_pause = 1.5,
  backchannel_word_max = 3,
  backchannel_proportion = 0.5,
  interruption_duration_min = 6,
  interruption_lag_duration_min = 1
)
}
\arguments{
\item{transcript_df}{Data frame with transcript data. Must contain columns
for speaker, text, start time, and stop time.}

\item{speaker_id_col}{Name of column containing speaker identifier. Default: "speaker".}

\item{text_col}{Name of column containing utterance text. Default: "text".}

\item{start_col}{Name of column containing start time in seconds. Default: "start".}

\item{stop_col}{Name of column containing stop time in seconds. Default: "stop".}

\item{max_pause}{Maximum pause (seconds) between consecutive segments from
the same speaker to be merged into one turn. Default: 1.5.}

\item{backchannel_word_max}{Maximum word count for backchannel classification.
Default: 3.}

\item{backchannel_proportion}{Minimum proportion of words that must be
backchannel cues. Default: 0.5 (50%).}

\item{interruption_duration_min}{Minimum duration (seconds) for a turn to be
considered an interruption. Default: 6.0.}

\item{interruption_lag_duration_min}{Minimum duration (seconds) of the
previous turn for current turn to be an interruption. Default: 1.0.}
}
\value{
Data frame in wide format with one row per primary turn. See
  \code{\link{pivot_to_wide_format}} for column descriptions.
}
\description{
Main function implementing the NaturalTurn algorithm. Collapses short pauses
within the same speaker, classifies turns as primary/secondary/backchannel,
and outputs data in wide format with one row per primary turn and listener
overlaps in columns.
}
\details{
This function implements the NaturalTurn algorithm by Cooney &
  Reece (2025). The algorithm:
  \itemize{
    \item Collapses short pauses (< \code{max_pause}) within the same speaker
    \item Classifies turns as primary (main speaker) or secondary/backchannel
      (overlapping speech)
    \item Joins consecutive primary turns from the same speaker
    \item Assigns turn IDs, grouping secondary turns with their primary
    \item Pivots to wide format with listener overlaps in columns
  }

  Interruption detection and within-speech pause tracking are implemented
  based on Di Stasi et al. (2024).
}
\examples{
\dontrun{
# Example transcript data
transcript <- data.frame(
  speaker = c("A", "A", "B", "A", "B"),
  text = c("Hello", "there", "Hi", "How are you", "Good"),
  start = c(0.0, 1.2, 1.5, 3.0, 3.5),
  stop = c(1.0, 2.0, 2.5, 4.0, 4.2)
)

# Process transcript with default column names
wide_result <- natural_turn_transcript(transcript)

# Or specify custom column names
wide_result <- natural_turn_transcript(
  transcript,
  speaker_id_col = "speaker",
  text_col = "text",
  start_col = "start",
  stop_col = "stop"
)
}

}
\references{
\itemize{
    \item Cooney, G., & Reece, A. (2025). NaturalTurn: A method to segment
      speech into psychologically meaningful conversational turns. \emph{Scientific Reports},
      15, 39155. \url{https://doi.org/10.1038/s41598-025-24381-1}
    \item Di Stasi, M., Templeton, E., & Quoidbach, J. (2024). Zooming out on
      bargaining tables: Exploring which conversation dynamics predict negotiation
      outcomes. \emph{Journal of Applied Psychology}, 109, 1077-1093.
  }

  This package is an R implementation of the Python companion repository:
  \url{https://github.com/betterup/natural-turn-transcription}
}
